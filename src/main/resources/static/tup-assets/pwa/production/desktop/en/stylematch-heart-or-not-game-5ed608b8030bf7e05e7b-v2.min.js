"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["stylematch-heart-or-not-game","thredup-dynamic-heart-or-not"],{61076:(e,t,n)=>{n.r(t),n.d(t,{HeartOrNotGame:()=>D}),n(5769),n(14078);var o=n(27378),i=n(60042),a=n.n(i),r=n(55807),s=n.n(r),l=n(16632),c=n(17219),u=n(31556),m=n(36731),d=n(28708),p=n(35156),h=n(83203),y=n(32670),f=n(62566),g=n(966),b=n(28637),v=n(77967),w=n(83848),C=n(71094),_=n(60584),E=n(53176),N=n(87020),A=n(5076),O=n(73464);function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},k.apply(this,arguments)}const D=e=>{var t;const{className:n,game:i,...r}=e,D=o.useContext(y.T8),L=o.useContext(h.Dw),{onInteract:R}=(0,_.K)(),[S,j]=(0,f.Y)({threshold:1,triggerOnce:!0}),[H,T]=o.useState(0),[V,I]=o.useState(!1),{cart:x}=(0,b.j)(),{profile:K}=D,{hasStylematchRecommendations:W}=K,{error:B,items:M,loading:U,status:X}=(0,C.D)({clientModule:O.RN.heart_or_not_game,feature:O.L9.stylematch,fetchPolicy:A.UK.NoCache,skip:!W}),{cartProducts:P}=x,{complete:z,empty:G}=O.XE,Y=X===z,q=X===G,F=L===g.t.Mobile,J=H>0&&H===M.length,Z=a()(n,"u-relative u-z-1"),Q=a()("mBgbHybiupKilu2krX1N","u-p-2x"),$=o.createElement("p",{className:Q},"This item is in someone’s cart. Heart it if you want to snag it later!"),ee=o.createElement("p",{className:Q},"Gah, you just missed it! No worries, we’ll send you more stuff just like it."),te=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{index:n,type:i,onClick:a}=e,r=M[n],s=e.disabled,l=()=>{a(i),R(r,i),T(n+1),i!==c.Interaction.Dislike&&I(!0)};return o.createElement("button",k({},e,{disabled:s||t,onClick:l,type:"button"}))},ne={...i,items:null!==(t=null==M?void 0:M.map(((e,t)=>{const n=0===t,i=a()({yTIuw2FpVooHgXhW2zXY:n});return o.createElement(v.q,{className:i,item:e})})))&&void 0!==t?t:[],renderAction:e=>{const{type:t}=e;return t===c.Interaction.AddToCart?(e=>{const{index:t}=e,n=M[t],i=n&&(0,m.eZ)(n,K,P),a=!!n&&!i,r=i===u.w_.InAnotherCart;if(a)return te(e,!a);const s=r?$:ee;return o.createElement(l.Tooltip,k({},p.R,{html:s,position:d.Ly.Bottom}),te(e,!a))})(e):te(e)}};return o.useEffect((()=>{var e;J?(0,E.Wn)({action:N.A.Submit,category:w.Rd,label:"game-finished",value:V?"liked-anything":"liked-nothing"}):!U&&M[H]&&j&&(0,E.Wn)({action:N.A.ViewContent,category:w.Rd,label:"item",value:String(null===(e=M[H])||void 0===e?void 0:e.itemNumber)})}),[V,J,H,M,U,j]),o.useEffect((()=>{if(U)return;const e=s()(M,"itemNumber").join(",");(0,E.Wn)({action:N.A.ViewContent,category:w.Rd,label:q?"load-empty":"load",value:e})}),[U,M,q]),o.useEffect((()=>{j&&(0,E.Wn)({action:N.A.ViewContent,category:w.Rd,label:"content-visible"})}),[j]),o.createElement(c.DynamicHeartOrNot,k({},r,{className:Z,game:ne,isCompleted:Y,isEmpty:q||!!B,isLoading:U,isMobile:F,ref:S}))}},83848:(e,t,n)=>{n.d(t,{JU:()=>o,Rd:()=>a,sm:()=>i});const o=760,i=500,a="heart-or-not"},87020:(e,t,n)=>{let o;n.d(t,{A:()=>o}),function(e){e.Click="click",e.Close="close",e.Inspect="inspect",e.ModalView="modal-view",e.Submit="submit",e.Tap="tap",e.ToastView="toast-view",e.ViewContent="view-content"}(o||(o={}))}}]);